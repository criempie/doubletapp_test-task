{"ast":null,"code":"var _jsxFileName = \"/home/crimemp/Documents/GitHub/doubletapp_test-task/client/src/AvatarChange/index.js\";\nimport React, { Component } from 'react';\nimport './index.css';\n\nclass AvatarChange extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"avatar\",\n      file: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.sendValue = this.sendValue.bind(this);\n  }\n\n  sendValue(file) {\n    this.props.getValue(this.state.name, file);\n  }\n\n  async handleChange(event) {\n    event.preventDefault();\n    let reader = new FileReader();\n    let file = event.target.files[0];\n    this.sendValue(file);\n\n    reader.onloadend = () => {\n      this.setState({\n        imageCash: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file); // await new Promise(accept => reader.readAsDataURL(file, accept)); \n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatarchange-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"avatar-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }\n    }, this.state.imageCash ? /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imageCash,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 30\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 67\n      }\n    }, \"\\u0424\\u0418\")), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"filedata\",\n      type: \"file\",\n      accept: \"image/png, image/jpg, image/jpeg\",\n      id: \"image_input\",\n      className: \"inputfile\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"label-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"image_input\",\n      className: \"inputfile-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 6\n      }\n    }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 6\n      }\n    }, \"500x500\")));\n  }\n\n}\n\nexport default AvatarChange;","map":{"version":3,"sources":["/home/crimemp/Documents/GitHub/doubletapp_test-task/client/src/AvatarChange/index.js"],"names":["React","Component","AvatarChange","constructor","props","state","name","file","handleChange","bind","sendValue","getValue","event","preventDefault","reader","FileReader","target","files","onloadend","setState","imageCash","result","readAsDataURL","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,aAAP;;AAEA,MAAMC,YAAN,SAA2BD,SAA3B,CAAqC;AACpCE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,QADM;AAEZC,MAAAA,IAAI,EAAE;AAFM,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AAEA;;AAEDC,EAAAA,SAAS,CAACH,IAAD,EAAO;AACf,SAAKH,KAAL,CAAWO,QAAX,CAAoB,KAAKN,KAAL,CAAWC,IAA/B,EAAqCC,IAArC;AACA;;AAED,QAAMC,YAAN,CAAmBI,KAAnB,EAA0B;AACzBA,IAAAA,KAAK,CAACC,cAAN;AAEA,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,QAAIR,IAAI,GAAGK,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX;AAEA,SAAKP,SAAL,CAAeH,IAAf;;AAEAO,IAAAA,MAAM,CAACI,SAAP,GAAmB,MAAM;AACxB,WAAKC,QAAL,CAAc;AACbC,QAAAA,SAAS,EAAEN,MAAM,CAACO;AADL,OAAd;AAGA,KAJD;;AAMAP,IAAAA,MAAM,CAACQ,aAAP,CAAqBf,IAArB,EAdyB,CAezB;AAEA;;AAEDgB,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEU;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACP,KAAKlB,KAAL,CAAWe,SAAX,gBAAuB;AAAK,MAAA,GAAG,EAAE,KAAKf,KAAL,CAAWe,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvB,gBAA4D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADrD,CAFV,eAMC;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,MAA5B;AAAmC,MAAA,MAAM,EAAC,kCAA1C;AACI,MAAA,EAAE,EAAC,aADP;AACqB,MAAA,SAAS,EAAC,WAD/B;AAEI,MAAA,QAAQ,EAAE,KAAKZ,YAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,eAUC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAO,MAAA,OAAO,EAAC,aAAf;AAA6B,MAAA,SAAS,EAAC,iBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFD,CAVD,CADD;AAkBA;;AAxDmC;;AA2DrC,eAAeN,YAAf","sourcesContent":["import React, {Component} from 'react';\nimport './index.css';\n\nclass AvatarChange extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tname: \"avatar\",\n\t\t\tfile: \"\",\n\t\t}\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.sendValue = this.sendValue.bind(this);\n\n\t}\n\n\tsendValue(file) {\n\t\tthis.props.getValue(this.state.name, file);\n\t}\n\n\tasync handleChange(event) {\n\t\tevent.preventDefault();\n\n\t\tlet reader = new FileReader();\n\t\tlet file = event.target.files[0];\n\t\t\n\t\tthis.sendValue(file);\n\n\t\treader.onloadend = () => {\n\t\t\tthis.setState({\n\t\t\t\timageCash: reader.result,\n\t\t\t});\n\t\t};\n\n\t\treader.readAsDataURL(file);\n\t\t// await new Promise(accept => reader.readAsDataURL(file, accept)); \n\t\t\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"avatarchange-container\">\n\n            \t<div className=\"avatar-container\">\n\t\t\t\t\t{this.state.imageCash ? <img src={this.state.imageCash} /> : <span>ФИ</span>}\n\t\t\t\t</div>\n\n\t\t\t\t<input name=\"filedata\" type=\"file\" accept=\"image/png, image/jpg, image/jpeg\"\n\t\t\t\t\t   id=\"image_input\" className=\"inputfile\"\n\t\t\t\t\t   onChange={this.handleChange}/>\n\t\t\t\t\n\t\t\t\t<div className=\"label-container\">\n\t\t\t\t\t<label htmlFor=\"image_input\" className=\"inputfile-label\">Сменить аватар</label>\n\t\t\t\t\t<span>500x500</span>\n\t\t\t\t</div>\t\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default AvatarChange"]},"metadata":{},"sourceType":"module"}